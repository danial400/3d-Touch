<!doctype>
<html>
  <head>
    <script src="https://use.typekit.net/uqo0cpv.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/poet.css">
    <link rel="stylesheet" type="text/css" href="css/prism.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/prism.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Pressure.js</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v1">
  </head>
  <body>
    <header>
      <div class="container">
        <span class="mighty-2 text-center-block">Pressure.js</span>
        <span class="h4 text-center-block" style="font-weight: 400;">current v1.0.1</span>
        <p class="text-fluid text-indent" style="margin-bottom: 0;">Pressure is a JavaScript library that makes dealing with Apple's Force Touch and 3D Touch simple. Force Touch for new Macs and 3D Touch for the new iPhone 6s and 6s Plus, all bundled under one roof with a simple API that makes working with them painless.</p>
        <p class="text-fluid text-indent">Pressure gives you a handle on browsers that do and don't support Force or 3D touch so you can have sensible fallbacks for users that don't support it.</p>
        <div class="text-center-block download" id="pressure-test">Pressure Browser Test (click me)</div>
        <a class="text-center-block download" href="https://github.com/yamartino/pressure">Download on <b>GitHub</b></a>
        <div class="social-buttons">
          <iframe src="https://ghbtns.com/github-btn.html?user=yamartino&repo=pressure&type=star&count=true&size=large" frameborder="0" scrolling="0" width="155px" height="30px"></iframe>
          <a class="twitter-share-button" data-size="large" href="https://twitter.com/intent/tweet?text=Pressure.js makes working with #ForceTouch and #3DTouch painless to use on the web via @StuYam">Tweet</a>
        </div>
      </div>
    </header>
    <div class="container">
      <!-- Nav tabs -->
      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#examples" aria-controls="examples" role="tab" data-toggle="tab">Examples</a></li>
        <li role="presentation"><a href="#documentation" aria-controls="documentation" role="tab" data-toggle="tab">Documentation</a></li>
        <li role="presentation"><a href="#press" aria-controls="documentation" role="tab" data-toggle="tab">Expo</a></li>
      </ul>
      <br />
      <!-- Tab panes -->
      <div class="tab-content">
        <div role="tabpanel" class="tab-pane" id="press">
          <h3>Tweet at me <a href="https://twitter.com/StuYam">@StuYam</a> with the project you are working on that uses pressure.js and I will add you here to the expo! :)</h3>
          <hr>
          <h2>Examples</h2>
          <a href="http://henryblyth.com/valentines/" style="width: 100%;">
            <h4>Henry Blyth Valentines</h4>
            <img src="pressure-heart.gif" style="width: 100%;" />
          </a>
          <hr>
          <a href="http://yamartino.github.io/pressurejs-scale/"><h4>Pressure.js Scale</h4></a>
          <p>This is still a work in progress, the "zero" doesn't work, but it is a cool example of what can be done with 3D Touch on the new iPhone 6s</p>
          <hr>
          <br><br>
          <h2>Press</h2>
          <ul>
            <li>
              <a href="http://knotlabs.com/" target="new"><h3>Knot Labs</h3></a>
            </li>
            <li>
              <a href="https://www.producthunt.com/tech/pressure-js" target="new"><h3>Product Hunt</h3></a>
            </li>
            <li>
              <a href="https://www.reddit.com/r/javascript/comments/42a7oc/pressurejs/" target="new"><h3>Reddit</h3></a>
            </li>
            <li>
              <a href="https://fivejs.codeschool.com/episodes/144-episode-105-january-21st-2016/stories/769-pressure-js" target="new"><h3>5 Minutes of JS Podcast</h3></a>
            </li>
            <li>
              <a href="https://twitter.com/StuYam/status/690418629578465281" target="new"><h3>Twitter</h3></a>
            </li>
            <li>
              <a href="http://jquery-plugins.net/pressure-js-javascript-library-for-force-touch-and-3d-touch" target="new"><h3>jQuery Plugins</h3></a>
            </li>
            <li>
              <a href="http://www.agileactors.com/blog/2016/2/3/fresh-resources-for-web-developers-february-2016" target="new"><h3>Agile Actors</h3></a>
            </li>
            <li>
              <a href="http://stackoverflow.com/questions/33506623/any-way-to-detect-force-click-with-javascript" target="new"><h3>Stackoverflow</h3></a>
            </li>
            <li>
              <a href="http://jster.net/blog/monthly-jster-february-2016-part-1#.VsULV5MrLMV" target="new"><h3>JSter</h3></a>
            </li>
            <li>
              <a href="http://thepixelbeard.com/fresh-tools-of-the-week-30th-january-5th-feburary-2/" target="new"><h3>The Pixel Beard</h3></a>
            </li>
            <li>
              <a href="https://codegeekz.com/fresh-resources-for-developers-february-2016/" target="new"><h3>Code Geekz</h3></a>
            </li>
          </ul>
        </div>

        <div role="tabpanel" class="tab-pane active" id="examples">
          <h3>Current Browser/Device Support</h3>
          <ul>
            <li>
              <strong>Device:</strong> iPhone 6s / 6s Plus
              <ul>
                <li>
                  <strong>Browser:</strong> Safari, <a href="https://github.com/yamartino/pressure/issues/29">WKWebView</a>
                </li>
              </ul>
            </li>
            <li>
              <strong>Device:</strong> Apple Pencil on iPad Pro
              <ul>
                <li>
                  <strong>Browser:</strong> <a href="https://github.com/yamartino/pressure/issues/31">Safari</a>, <a href="https://github.com/yamartino/pressure/issues/29">WKWebView</a>
                </li>
              </ul>
            </li>
            <li>
              <strong>Device:</strong> MacBook 2015 / MacBook Pro 2015
              <ul>
                <li>
                  <strong>Browser:</strong> <a href="https://github.com/yamartino/pressure/issues/5">Safari</a>
                </li>
              </ul>
            </li>
            <li>
              <strong>Device:</strong> Magic Trackpad 2
              <ul>
                <li>
                  <strong>Browser:</strong> <a href="https://github.com/yamartino/pressure/issues/5">Safari</a>
                </li>
              </ul>
            </li>
            <li class="text-danger">future devices and browser that support pressure will be added when they are released</li>
          </ul>
          <hr>
          <p>If you are not using one of the devices / browsers listed above, here is a gif to show it in action.</p>
          <img src="pressure.gif" style="width: 100%;box-shadow: 0 0 5px 5px rgba(0,0,0,0.1);margin: 20px 0;" />
          <hr />
          <h3>Examples</h3>
          <div class="alert alert-success">
            <strong>Note:</strong> This page is using the "polyfill" option on most of the Pressure elements to give support for browsers that do not support Force or 3D touch. The "polyfill" option is disabled by default but can be useful in lots of situations where time is an ok replacement for force. <strong>For Example:</strong> The Instagram app uses 3D touch to allow users to quick look images, however if you do not have 3D touchs support, you can simply hold down on the image for a second and it will do the same thing.
          </div>
          <div class="h4 doc-title">1. Pressure Change</div>
          <p>The best part about Pressure is that is uses a single API that works on both Force Touch and 3D Touch. (note: Apple currently only has support for desktop and mobile safari, but luckily with pressure you can test for that)</p>
          <div class="doc-section">
            <a class="codepen" href="http://codepen.io/Yamartino/pen/EyPwMw" target="new">Play on Codepen</a>
            <div class="doc-top">
              <h4>Targets All</h4>
              <div class="element" id="el1">0</div>
              <h4>Targets ONLY Force Touch (desktop)</h4>
              <div class="element" id="el2">0</div>
              <h4>Targets ONLY 3D Touch (mobile)</h4>
              <div class="element" id="el3">0</div>
            </div>
    <!--         <div class="doc-bottom">
              <pre class="language-javascript"><code></code></pre>
            </div> -->
          </div>

          <div class="h4 doc-title">2. Focus Photo</div>
          <p>The harder you press on the image the less blurry it will become.</p>
          <p>(try pressing with variable amounts of pressure)</p>
          <div class="doc-section">
            <a class="codepen" href="http://codepen.io/Yamartino/pen/JKGBaw" target="new">Play on Codepen</a>
            <div class="doc-top">
              <div class="wrap-peanuts">
                <img src="peanuts.jpg" id="peanuts"/>
              </div>
            </div>
    <!--         <div class="doc-bottom">
              <pre class="language-javascript"><code></code></pre>
            </div> -->
          </div>

          <div class="h4 doc-title">3. Text Size</div>
          <p>The harder you press on the text, the bigger it gets. Then when you let go it sticks at that size till the next time you press. This could be useful for accessibility on online articles.
          <div class="doc-section">
            <a class="codepen" href="http://codepen.io/Yamartino/pen/OXMwrX" target="new">Play on Codepen</a>
            <div class="doc-top">
              <div id="text-sizer">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
              </div>
            </div>
          </div>

          <div class="h4 doc-title">4. Rotating Square</div>
          <p>The harder you press on the button, the farther the image will spin.
          <div class="doc-section">
            <a class="codepen" href="http://codepen.io/Yamartino/pen/EyPwMw" target="new">Play on Codepen</a>
            <div class="doc-top">
              <button id="cube-btn" class="btn btn-success btn-lg">Press Me!</button>
              <br/>
              <br/>
              <br/>
              <img id="spinning-cube" src="pickle.jpg"/>
            </div>
          </div>

          <div class="h4 doc-title">5. "Deep" or Force Press</div>
          <p>Press hard on the button, a "Deep" or Force press will occur and launch a bootstrap popover.
          <div class="doc-section">
            <a class="codepen" href="http://codepen.io/Yamartino/pen/EyPwMw" target="new">Play on Codepen</a>
            <div class="doc-top">
              <button id="popover" type="button" class="btn btn-lg btn-danger" data-placement="top" data-toggle="popover" title="Deep Press Popover!" data-content='This popover was triggered because you pressed over 50% pressure on iOS or OSX. On OSX this is called a "force touch"'>Press hard to toggle popover</button>
            </div>
          </div>
        </div>


        <!-- DOCUMENTATION ----------------------------------------------------------------------- -->
        <div role="tabpanel" class="tab-pane" id="documentation">
          <div class="h4 doc-title">1. Installation</div>
          <p>Pressure is really simple to install, you can use npm or bower, or head over to the github and download the repo itself. All you need is the <code>pressure.min.js</code> or the <code>pressure.js</code> file.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div class="center">bower</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>bower install pressure --save</code></pre>
            </div>
          </div>
          <div class="doc-section">
            <div class="doc-top">
              <div class="center">npm</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>npm install pressure --save</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">2. Setup</div>
          <p>You can use pressure with browserify, debowerify, or anything that uses CommonJS to include packages. Pressure can be used normally if no module object exists.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// Regular
Pressure.set('#test', {
  change: function(force, event){
    console.log(force);
  }
});</code></pre>
            </div>
          </div>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// Browserify, Debowerify, CommonJS
var Pressure = require('pressure');

Pressure.set('#test', {
  change: function(force, event){
    console.log(force);
  }
});</code></pre>
            </div>
          </div>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// RequireJS
requirejs(['pressure'], function( Pressure ) {

  Pressure.set('#test', {
    change: function(force, event){
      console.log(force);
    }
  });

});
</code></pre>
            </div>
          </div>


          <div class="h4 doc-title">3. Usage</div>
          <p>Pressure has a really simple method signature. The first argument is the element(s) you are targeting and the second argument is an object with optional callback functions. This lists all the element types that can be passed into Pressure, anything from a string selector, to a DOM node object.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div id="output-element" style="width: 100%;padding: 10px;">Click Me</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// target all links
Pressure.set('a', {});

// pass in jQuery elements
var elements = $('.dogs');
Pressure.set(elements, {});

// pass in element list or single element
var elements2 = document.querySelectorAll('.cats');
Pressure.set(elements2, {});
var elements3 = document.getElementById('cat');
Pressure.set(elements3, {});

// element with the 'stuart' ID being selected and calling the 'change' callback
Pressure.set('#stuart', {
  change: function(force, event){
    // the force value is passed back as well as the full event
    this.innerHTML = force;
  }
});</code></pre>
            </div>
          </div>

          <div class="alert alert-success" role="alert"><b>Pro Tip:</b> "force" is a value passed back by the "change" function and is a value from 0 to 1. On Mac it is converted from a 1 to 3 scale to a 0 to 1 scale so it can be used in a consistent manner.</div>

          <p>This example uses all of the optional methods available to you in the callback object.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element', {
  start: function(event){
    // this is called on force start
  },
  end: function(){
    // this is called on force end
  },
  startDeepPress: function(event){
    // this is called on "force click" / "deep press", aka once the force is greater than 0.5
  },
  endDeepPress: function(){
    // this is called when the "force click" / "deep press" end
  },
  change: function(force, event){
    // this is called every time there is a change in pressure
  },
  unsupported: function(){
    // this is called once there is a touch on the element and the device or browser does not support Force or 3D touch
  }
});</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">4. jQuery Usage</div>
          <p>Use the <code>jquery.pressure.min.js</code> file if you are using jQuery in your project. Using the Pressure jQuery library makes it simple to attach pressure events to jQuery elements.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>$('a').pressure({
  start: function(event){
    // this is called on force start
  },
  end: function(){
    // this is called on force end
  },
  startDeepPress: function(event){
    // this is called on "force click" / "deep press", aka once the force is greater than 0.5
  },
  endDeepPress: function(){
    // this is called when the "force click" / "deep press" end
  },
  change: function(force, event){
    // this is called every time there is a change in pressure
  },
  unsupported: function(){
    // this is called once there is a touch on the element and the device or browser does not support Force or 3D touch
  }
});
</code></pre>
            </div>
          </div>


          <div class="h4 doc-title">5. Options</div>
          <h4><b>Polyfill Support</b></h4>
          <p>With Pressure, the third paramater is an optional object of options that can be passed in. Using the "polyfill" keyword, you can enable polyfill support for the element. What this means is that if the device or browser does not support force or 3D touch, it will fall back to using time. For example instead of force from  0 to 1, it counts up from 0 to 1 over the course of one second, as long as you are holding the element. Try some of the examples on the main page on a devices that does not support force or 3D touch and see for yourself how it works.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div id="polyfill-example" style="width: 100%;padding: 10px;">Click on me on any device :)</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#polyfill-example', {
  change: function(force, event){
    this.innerHTML = force;
  }
}, {polyfill: true});</code></pre>
            </div>
          </div>

          <h4><b>Device Detection</b></h4>
          <p>With Pressure, the third paramater is an optional object of options that can be passed in. The first option is device targeting. Using the "only" keyword, you can define if you want pressure to run on ONLY Mac or ONLY iPhone.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div id="element-3d" style="width: 100%;padding: 10px;">Click Me On an iPhone 6s</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element-3d', {
  change: function(force, event){
    this.innerHTML = force + 'on an iphone';
  }
}, {only: '3d'});</code></pre>
            </div>
          </div>

          <div class="doc-section">
            <div class="doc-top">
              <div id="element-force" style="width: 100%;padding: 10px;">Click Me On a Mac with Force Touch</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element-force', {
  change: function(force, event){
    this.innerHTML = force + 'on a Mac';
  }
}, {only: 'force'});</code></pre>
            </div>
          </div>

          <h4><b>Prevent Default</b></h4>
          <p>Both Mac and iPhones have system wide features that they default to when force clicking on something (ex. defining a word on Mac or "peeking and popping" an image on iOS). Pressure prevents those actions from happening, however if you still want those actions to be possible on "Pressure" elements, you can pass in "preventDefault" as an option.</p>
          <div class="alert alert-success">Pressure sets <code>user-select: none;</code> css property on all of the elements it is attached to. It does this to keep text from being selected while force touching. However, sometimes you may want this turned off. The "preventDefault" option also handles removing that"</div>
          <div class="doc-section">
            <div class="doc-top">
              <div style="width: 100%;padding: 10px;">Push the image hard on an iPhone6s to "peek and pop" it</div>
              <img src="pickle.jpg" style="widht: 100%; max-width: 200px" id="element-3d-prevent" />
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element-3d-prevent', {
  start: function(event){
    console.log('cool it started');
  }
}, {only: '3d', preventDefault: false});</code></pre>
            </div>
          </div>

          <div class="doc-section">
            <div class="doc-top">
              <div id="element-force-prevent" style="width: 100%;padding: 10px;">Force touch one of these words on a Force Touch trackpad to define it.</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element-force-prevent', {
  start: function(event){
    console.log('cool it started');
  }
}, {only: 'force', preventDefault: false});</code></pre>
            </div>
          </div>


          <div class="h4 doc-title">6. Helpers</div>
          <p>You can use <code>Pressure.config()</code> to set default configurations for site wide setup. All of the configurations are the same as the options listed above.</p>
          <div class="alert alert-warning">
            <strong>Heads Up:</strong> If you have a config set, you can always overide the config on individual Pressure elements by passing in any of the options listed above to a specific Pressure block.
          </div>
          <div class="alert alert-success">When using the jQuery Pressure library, use <code>$.pressureConfig()</code> rather than <code>Pressure.config()</code></div>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// These are the default configs set by Pressure
Pressure.config({
  polyfill: false,
  preventDefault: true,
  only: null
});</code></pre>
            </div>
          </div>

          <p>You can use <code>Pressure.map()</code> to map a value from one range of values to another. It takes 5 params: <code>Pressure.map(inputValue, inputValueMin, inputValueMax, mapToMin, mapToMax);</code> Here is a good write up on how this works in the Processing framework: <a href="https://processing.org/reference/map_.html">Map Function</a>.</p>
          <div class="alert alert-success">When using the jQuery Pressure library, use <code>$.pressureMap()</code> rather than <code>Pressure.map()</code></div>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element', {
  change: function(force, event){
    // this takes the force, given that the force can range from 0 to 1, and maps that force value on a 100 to 200 range
    this.style.width = Pressure.map(force, 0, 1, 100, 200);
  }
});</code></pre>
            </div>
          </div>





          </div>

        </div>
      </div>


      <footer class="text-center-block">Pressure is created and maintained by Stuart Yamartino | <a class="text-smart-underline" href="https://twitter.com/StuYam">Twitter</a> | <a class="text-smart-underline" href="https://github.com/Yamartino">GitHub</a></footer>
    </div>

    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <script type="text/javascript" src="js/pressure.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <!-- GitHub. -->
    <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
    <!-- Gitter Sidecar. -->
    <script>
      ((window.gitter = {}).chat = {}).options = {
        room: 'yamartino/pressure'
      };
    </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  </body>
</html>
